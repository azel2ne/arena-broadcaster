/* General Reset */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }

body {
    background-color: #000;
    color: white;
    overflow: hidden;
    width: 100vw;
    height: 100vh;
}

/* --- The Board --- */
.board { width: 100%; height: 100%; position: relative; z-index: 1; }

/* --- Floating Items --- */
.item {
    position: absolute; cursor: grab; transition: transform 0.2s ease;
    animation: floaty 8s ease-in-out infinite; max-width: 320px; z-index: 10;
    user-select: none; display: flex; flex-direction: column; align-items: flex-start; gap: 6px;
}
.item:active { cursor: grabbing; }
.item:hover { transform: scale(1.05) !important; z-index: 9999; animation-play-state: paused; }
.item:hover .item-actions { opacity: 1; pointer-events: auto; }

@keyframes floaty {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0px); }
}

/* --- Trash Bin --- */
.trash-zone { position: fixed; bottom: 30px; left: 30px; width: 60px; height: 70px; z-index: 400; display: flex; align-items: flex-end; justify-content: center; }
.trash-zone.hidden { display: none; }
.trash-can { position: relative; width: 50px; height: 60px; }
.trash-lid { position: absolute; top: -10px; left: -5px; width: 60px; height: 12px; background-color: #777; border-radius: 4px; transform-origin: 50% 100%; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); z-index: 2; }
.trash-lid::after { content: ''; position: absolute; top: -8px; left: 15px; width: 30px; height: 8px; background-color: transparent; border: 4px solid #777; border-bottom: none; border-radius: 6px 6px 0 0; }
.trash-body { position: absolute; bottom: 0; left: 0; width: 50px; height: 55px; background-color: #666; border-radius: 0 0 8px 8px; background-image: repeating-linear-gradient(90deg, #666, #666 8px, #555 8px, #555 12px); z-index: 1; }
.trash-can.open .trash-lid { transform: rotate(-110deg); transition: transform 0.2s ease-out; }
.trash-smoke { position: absolute; top: 0px; left: 10px; width: 30px; height: 30px; pointer-events: none; display: none; }
.trash-smoke span { position: absolute; bottom: 0; width: 10px; height: 10px; background: rgba(200, 200, 200, 0.8); border-radius: 50%; animation: smokePoof 0.6s ease-out forwards; }
.trash-smoke span:nth-child(1) { left: 0; animation-delay: 0s; }
.trash-smoke span:nth-child(2) { left: 10px; animation-delay: 0.1s; }
.trash-smoke span:nth-child(3) { left: 20px; animation-delay: 0.05s; }
.trash-zone.poof .trash-smoke { display: block; }
@keyframes smokePoof { 0% { transform: translateY(0) scale(1); opacity: 0.8; } 100% { transform: translateY(-50px) scale(2.5); opacity: 0; } }

/* --- Content Wrapper --- */
.content-wrapper { position: relative; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); display: flex; justify-content: center; align-self: flex-start; }

/* --- Content Types --- */
.item-text { font-size: 1.5rem; font-weight: bold; color: #000; background: #fff; padding: 15px 30px; border-radius: 50px; text-align: center; white-space: nowrap; }

/* Sticky Note & Colors */
.item-sticky { padding: 20px; width: 180px; height: 180px; color: black; font-family: 'Comic Sans MS', cursive, sans-serif; display: flex; align-items: center; justify-content: center; text-align: center; font-size: 1.2rem; transform: rotate(-2deg); }
.bg-yellow { background-color: #FFD700; }
.bg-pink { background-color: #FFC7C7; }
.bg-blue { background-color: #C7F0FF; }
.bg-purple { background-color: #E3D4FF; }
.bg-green { background-color: #CDFACC; }
.bg-gray { background-color: #E3E3E3; }

.item-img { border-radius: 10px; width: 220px; display: block; pointer-events: none; }
.item-video { border-radius: 10px; width: 280px; display: block; }
.item-link { background: #1e1e1e; padding: 12px 20px; border-radius: 30px; border: 1px solid #5c62ff; color: #5c62ff; text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 8px; max-width: 250px; }
.item-link span.link-text { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: block; }

/* --- Action Bar --- */
.item-actions { position: absolute; bottom: -15px; right: 15px; background: #fff; border-radius: 12px; padding: 4px 8px; display: flex; gap: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); opacity: 0; pointer-events: none; transition: opacity 0.2s; z-index: 20; }
.action-btn { width: 28px; height: 28px; border-radius: 50%; border: none; background: transparent; color: #333; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }
.action-btn:hover { background: #eee; }
.action-btn span { font-size: 20px; }

/* --- Meta Bar --- */
.meta-bar { display: flex; flex-wrap: wrap; gap: 6px; padding: 0 4px; justify-content: flex-start; width: 100%; }
.pill { background: #333; border: 1px solid #444; border-radius: 12px; padding: 4px 10px; font-size: 0.85rem; color: #fff; cursor: pointer; display: flex; align-items: center; gap: 5px; transition: background 0.2s; }
.pill:hover { background: #444; border-color: #666; }
.pill.comment-pill { background: #e0e0e0; color: #000; border-color: #ccc; font-weight: bold; }
.pill.comment-pill:hover { background: #fff; }

/* --- Comments --- */
.comment-list { display: none; flex-direction: column; gap: 4px; background: rgba(30,30,30,0.95); padding: 10px; border-radius: 12px; border: 1px solid #444; width: 100%; margin-top: 2px; }
.comment-list.show { display: flex; }
.comment-bubble { background: #fff; color: black; padding: 6px 10px; border-radius: 8px; font-size: 0.9rem; text-align: left; }
.comment-bubble b { color: #5c62ff; margin-right: 4px; }

/* --- Controls & Toolbars --- */
.controls-left, .user-tabs { position: fixed; top: 25px; z-index: 500; display: flex; gap: 12px; }
.controls-left { left: 25px; } .user-tabs { right: 25px; }
.btn, .user-tab { background: #1e1e1e; color: white; border: 1px solid #333; padding: 10px 20px; border-radius: 25px; cursor: pointer; transition: all 0.2s; }
.btn:hover, .user-tab:hover { background: #333; transform: scale(1.05); }
.user-tab { background: #fff; color: black; font-weight: bold; }
.toolbar { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: #1e1e1e; padding: 10px 25px; border-radius: 50px; display: flex; gap: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border: 1px solid #333; z-index: 500; }
.toolbar.hidden { display: none; }
.tool-btn { width: 50px; height: 50px; border-radius: 50%; border: none; background: transparent; color: white; cursor: pointer; }
.tool-btn:hover { background: #333; }
.tool-btn span { font-size: 28px; }

/* --- Modals (Shared Styles) --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal-overlay.hidden { display: none; }
.modal { background: #1e1e1e; padding: 30px; border-radius: 20px; width: 320px; text-align: center; border: 1px solid #333; }
.modal h3 { margin-bottom: 20px; color: white; }

.input-group { margin-bottom: 20px; text-align: left; }
.input-group label { display: block; color: #aaa; margin-bottom: 5px; }
.input-group input, .modal textarea { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: white; border-radius: 8px; font-family: inherit; }
.modal textarea { resize: vertical; margin-bottom: 20px; }

.modal-actions { display: flex; gap: 10px; justify-content: flex-end; }
.error-msg { color: #ff6b6b; font-size: 0.9rem; margin-bottom: 15px; min-height: 1.2rem; }

#loginBtn { background: white; color: black; width: 100%; padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }

/* Specific: Sticky Color Picker in Modal */
.color-options { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
.color-option { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; transition: transform 0.2s; }
.color-option:hover { transform: scale(1.1); }
.color-option.selected { border: 2px solid white; transform: scale(1.2); }